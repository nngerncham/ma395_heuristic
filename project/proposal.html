<h1 id="project-proposal-nawat">Project Proposal (Nawat)</h1>
<p>Topic: Multi-objective Optimization on Hyper-parameters for
Constructing Graphs for ANNS</p>
<h2 id="background">Background</h2>
<p>My senior project is on supporting removing points from a graph that
is constructed to support fast and accurate queries to answer
approximate nearest neighbor search problems. The first step to this is
to construct the index of this graph, i.e., figuring out which vertices
should be connected to other vertices. For context, each vertex
represents a vector or a point in <span
class="math inline">ℝ<sup><em>d</em></sup></span> so the distance
between each vertex is simply the Euclidean distance.</p>
<p>The goal is to make sure that the index construction does not take
too long while making sure that the resulting graph allows for fast and
accurate queries. That is, we have a few objectives that we are
optimizing for:</p>
<ol type="1">
<li>Minimizing the index construction time</li>
<li>Maximizing recall (how accurate it is compared to ground truth)</li>
<li>Minimizing query time (how long it takes to get the answer)</li>
<li>Minimizing how much memory is required for storing the graph</li>
</ol>
<p>The algorithms used for index construction that I’m interested in are
called Vamana and HNSW and both have a few parameters I can tune:</p>
<ol type="1">
<li>Maximum degree of a vertex</li>
<li>Candidate collection size during index construction
<ul>
<li>During construction, both algorithm will need to store a number of
neighbor candidates when deciding which points should be connected to
another</li>
</ul></li>
<li>Candidate collection size during search</li>
<li>(Vamana only) Closeness threshold
<ul>
<li>Vamana aims to make sure that the proximity graph that it constructs
is one where close points are connected and far points are only
connected if nothing near it is connected.</li>
<li>Let’s say we have points <span
class="math inline"><em>x</em>, <em>y</em>, <em>z</em></span> where
<span class="math inline"><em>y</em></span> and <span
class="math inline"><em>z</em></span> are close enough—within the
threshold—to each other but both are far from <span
class="math inline"><em>x</em></span>. Then, <span
class="math inline"><em>x</em></span> is connected to either <span
class="math inline"><em>y</em></span> or <span
class="math inline"><em>z</em></span>, not both</li>
</ul></li>
<li>(HNSW only) Probability normalizing factor
<ul>
<li>HNSW constructs a multi-layer proximity graph where we use this
parameter to decide the probability of a point showing up in the higher
layers</li>
</ul></li>
</ol>
<p>The dataset used to evaluate ANNS are rather big, usually with around
a million points. Running the index construction algorithm once could
take a really long time (I’ve seen times from 5 minutes to an hour). So,
I want to</p>
<h2 id="idea">Idea</h2>
<p>I’ll split this into 2 phases so that I have an achievable minimum
point and something I can investigate further if I have time (not very
likely):</p>
<ol type="1">
<li>Start by running GA to optimize the hyper-parameters on a toy data
set using high number of iterations. I will use a data set with 10000
points for this because—from my experience—the index for this many data
points runs in just a few seconds or less. Then, I will optimize the
hyper-parameters further on the bigger data set but use very low number
of iterations by using the values from the toy problems as a starting
point.</li>
<li>Look into surrogate-based optimization to try to do this
optimization <em>properly</em>.</li>
</ol>
<h2 id="reference">Reference</h2>
<ul>
<li><a
href="https://papers.nips.cc/paper_files/paper/2019/file/09853c7fb1d3f8ee67a61b6bf4a7f8e6-Paper.pdf">Vamana</a></li>
<li><a
href="https://arxiv.org/ftp/arxiv/papers/1603/1603.09320.pdf">HNSW</a></li>
</ul>
